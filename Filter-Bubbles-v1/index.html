<html>
  <head>
    <title>BroadBulletin</title>

    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
        
    <link href='https://fonts.googleapis.com/css?family=Fira+Sans:400,700italic,700,500italic,500,400italic,300italic,300' rel='stylesheet' type='text/css'>    
  </head>
  <body>
        
    <header>
      <div class="header-wrapper" id="header-wrapper">
        <div class="logo" id="logo">
          <img src="logos/logo-idea.png" width="667" height="99">
          </div>
          <div class="searchbar-wrapper" id="searchbar-wrapper">
            <form id="newsearch" method="get" action="">
              <input id="search" class="search-field" name="q" size="21" maxlength="120" placeholder="What's in the news today?" autofocus>
              <input type="submit" value="" class="search-button" id="search-button">
            </form>      
          </div>               
        </div>
    </header>
   
    <div id="" class="content-wrapper">
        <ul class="posts" id="guardian">
        </ul>  
    </div>
      

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
    <script src="webhose.js"></script>

  
    <script>
          
      $("#search-button").click(function() 
      {
        // empty the interface container
        $("#guardian").empty()
      })
      
      // why do we need to wait for a couple of seconds here?
      setTimeout(function()
      { 
        var search = document.getElementById('newsearch')
    
        search.addEventListener('submit',function(e) 
        {
          e.preventDefault()

          // let user know that we're searching

          var query = document.getElementById('search').value

          // loop through all the sites
          sites.forEach(function (site)
          {
            var webhoseURL = getWebhoseURL(query, site)
            var containerID = '#guardian'
            getWebhoseData(webhoseURL, containerID)
          })

        })
      }, 2000)                          

    </script>

  </body>
</html>